Version 4
SHEET 1 3156 1136
WIRE 1776 -768 1744 -768
WIRE 2496 -768 2464 -768
WIRE -1424 -720 -1440 -720
WIRE 992 -688 976 -688
WIRE 1184 -688 1152 -688
WIRE 1344 -688 1328 -688
WIRE -1104 -672 -1104 -784
WIRE -896 -672 -928 -672
WIRE 1744 -656 1744 -768
WIRE 1872 -656 1744 -656
WIRE 2144 -656 2032 -656
WIRE 2464 -656 2464 -768
WIRE 2592 -656 2464 -656
WIRE 2864 -656 2752 -656
WIRE -1440 -640 -1440 -720
WIRE -1440 -640 -1520 -640
WIRE -1264 -640 -1440 -640
WIRE 976 -640 976 -688
WIRE 1152 -640 1152 -688
WIRE 1328 -640 1328 -688
WIRE 1600 -608 1536 -608
WIRE 1728 -608 1600 -608
WIRE 1872 -608 1728 -608
WIRE 2592 -608 2384 -608
WIRE -1232 -592 -1344 -592
WIRE -928 -592 -928 -672
WIRE -928 -592 -976 -592
WIRE -816 -592 -928 -592
WIRE -384 -592 -672 -592
WIRE 144 -592 -144 -592
WIRE -1344 -560 -1344 -592
WIRE -1344 -560 -1520 -560
WIRE -1520 -528 -1520 -560
WIRE -1264 -528 -1264 -640
WIRE -1232 -528 -1264 -528
WIRE -816 -528 -976 -528
WIRE 1152 -528 1152 -560
WIRE 1248 -528 1152 -528
WIRE 1328 -528 1328 -560
WIRE 1424 -528 1328 -528
WIRE -672 -512 -672 -528
WIRE -608 -512 -672 -512
WIRE -144 -512 -144 -528
WIRE -80 -512 -144 -512
WIRE -608 -496 -608 -512
WIRE -80 -496 -80 -512
WIRE 976 -496 976 -560
WIRE 1072 -496 976 -496
WIRE 1424 -496 1424 -528
WIRE 1248 -480 1248 -528
WIRE 1536 -480 1536 -608
WIRE 1728 -480 1728 -608
WIRE 2384 -480 2384 -608
WIRE 2384 -480 1728 -480
WIRE 784 -448 768 -448
WIRE 1072 -448 1072 -496
WIRE -1392 -400 -1408 -400
WIRE -1104 -400 -1104 -432
WIRE 768 -400 768 -448
WIRE -1056 -368 -1056 -432
WIRE -1408 -352 -1408 -400
WIRE -480 -336 -496 -336
WIRE 1712 -320 1680 -320
WIRE 1536 -304 1536 -400
WIRE 2208 -304 2176 -304
WIRE 2736 -304 2704 -304
WIRE 768 -288 768 -320
WIRE 1680 -256 1680 -320
WIRE 2176 -256 2176 -304
WIRE 2704 -256 2704 -304
WIRE -496 -208 -496 -336
WIRE 1680 -144 1680 -176
WIRE 2176 -144 2176 -176
WIRE 2704 -144 2704 -176
FLAG -1520 -528 0
FLAG -1392 -400 Vdd
IOPIN -1392 -400 Out
FLAG -1104 -400 0
FLAG -1408 -272 0
FLAG -1104 -784 Vdd
IOPIN -1104 -784 In
FLAG -1056 -288 0
FLAG -480 -336 3.072MhzCLK
IOPIN -480 -336 Out
FLAG -496 -128 0
FLAG -384 -592 3.072MhzCLK
IOPIN -384 -592 In
FLAG -608 -496 0
FLAG 144 -592 3.072MhzCLK
IOPIN 144 -592 In
FLAG -80 -496 0
FLAG 784 -448 VTRL
IOPIN 784 -448 Out
FLAG 1712 -320 SW1
IOPIN 1712 -320 Out
FLAG 2736 -304 SW3
IOPIN 2736 -304 Out
FLAG 1344 -688 Sine
IOPIN 1344 -688 Out
FLAG 768 -288 0
FLAG 1424 -496 0
FLAG 1536 -304 0
FLAG 1184 -688 Sine2
IOPIN 1184 -688 Out
FLAG 2208 -304 SW5
IOPIN 2208 -304 Out
FLAG 992 -688 Sine3
IOPIN 992 -688 Out
FLAG 1248 -480 0
FLAG 1072 -448 0
FLAG 1680 -144 0
FLAG 2704 -144 0
FLAG 2176 -144 0
FLAG 1600 -608 CLK
FLAG 1776 -768 SW1
IOPIN 1776 -768 In
FLAG 2144 -656 Qzero
IOPIN 2144 -656 Out
FLAG 2496 -768 SW3
IOPIN 2496 -768 In
FLAG 2864 -656 Qzero3
IOPIN 2864 -656 Out
FLAG -1424 -720 Pico39kHzSine
IOPIN -1424 -720 Out
FLAG -896 -672 Output2_ultrasonicMembran
IOPIN -896 -672 Out
SYMBOL Misc\\xtal -832 -592 R0
SYMATTR InstName C1
SYMATTR Value 0.02µ
SYMATTR SpiceLine V=100 Rser=204
SYMBOL voltage -1520 -656 R0
WINDOW 0 54 52 Left 2
WINDOW 3 -293 165 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 3.3 39k 0 0 0 0)
SYMBOL voltage -1408 -368 R0
WINDOW 3 54 55 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL voltage -1056 -384 R0
WINDOW 3 47 64 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 2.5
SYMBOL OpAmps\\LTC6363-2 -1104 -560 R0
SYMATTR InstName U1
SYMBOL Misc\\xtal -688 -592 R0
WINDOW 3 42 31 Left 2
SYMATTR InstName C2
SYMATTR Value 0.02µ
SYMATTR SpiceLine V=100 Rser=204
SYMBOL voltage -496 -224 R0
WINDOW 3 -325 143 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 3.3 1n 2n 2n 1.6275E-7 3.2552E-7 10)
SYMATTR InstName V5
SYMBOL Misc\\xtal -160 -592 R0
WINDOW 3 42 31 Left 2
SYMATTR InstName C3
SYMATTR Value 0.02µ
SYMATTR SpiceLine V=100 Rser=204
SYMBOL voltage 1328 -656 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -19 -144 Left 2
SYMATTR Value SINE(1.6 1 39k 0 0 0)
SYMATTR InstName V8
SYMBOL voltage 768 -416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -275 -95 Left 2
SYMATTR Value PULSE(0 3.3 83n 166n 166n 1n 333n)
SYMATTR InstName V11
SYMBOL bv 2704 -272 R0
SYMATTR InstName B1
SYMATTR Value V = if(V(sine2)>V(VTRL),{Vhi},-{0})
SYMBOL bv 1680 -272 R0
WINDOW 0 32 25 Left 2
SYMATTR InstName B2
SYMATTR Value V = if(V(sine)>V(VTRL),{Vhi},-{0})
SYMBOL voltage 1152 -656 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -97 -89 Left 2
SYMATTR Value SINE(1.6 1 39k 0 0 120)
SYMATTR InstName V12
SYMBOL bv 2176 -272 R0
SYMATTR InstName B3
SYMATTR Value V = if(V(sine3)>V(VTRL),{Vhi},-{Vhi})
SYMBOL voltage 976 -656 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -105 -137 Left 2
SYMATTR Value SINE(0 3.8 39k 0 0 240)
SYMATTR InstName V13
SYMBOL voltage 1536 -496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V14
SYMATTR Value PULSE(0 3.3 1n 2n 2n 164n 333n)
SYMBOL Digital\\dflop 1952 -704 R0
SYMATTR InstName A1
SYMBOL Digital\\dflop 2672 -704 R0
SYMATTR InstName A2
TEXT -1814 -460 Left 2 !;tran 1ms
TEXT -1896 -608 Left 2 ;Pico 39kHz DAC Output ->
TEXT -864 -856 Left 2 ;PAM8302A Audio Amplifier
TEXT -904 -712 Left 2 ;CUA Ultrasonic Generator
TEXT -672 -408 Left 2 ;Mic1
TEXT -136 -416 Left 2 ;Mic2
TEXT -712 -24 Left 2 ;Pico Generated 3.072Mhz Clock
TEXT 528 -808 Left 2 !.tran 0 100u 0 10n\n.param Vhi=3.3V
TEXT 536 -736 Left 2 !.param Mindex=0.01
TEXT 720 -160 Left 2 ;Patrick Palmer and Gene Li
TEXT 2168 -432 Left 2 ;RPi Pico Internal
